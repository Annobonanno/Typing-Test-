<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Typing Test</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to right, #f9f9f9, #d3e5ff);
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background: white;
      padding: 40px;
      border-radius: 10px;
      max-width: 700px;
      width: 100%;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      text-align: center;
      border: 2px solid #d3e5ff;
      animation: fadeIn 1s ease-in-out;
    }
    h1 {
      margin-bottom: 10px;
      font-weight: 600;
      color: #3a86ff;
    }
    p.instructions {
      color: #666;
      font-size: 16px;
      margin-bottom: 20px;
    }
    #quote {
      font-size: 20px;
      margin-bottom: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
    .char {
      padding: 2px;
      font-size: 20px;
      border-bottom: 1px solid #ccc;
    }
    .correct {
      color: green;
    }
    .incorrect {
      color: red;
    }
    #results {
      margin-top: 20px;
      font-weight: bold;
    }
    textarea {
      width: 100%;
      font-size: 16px;
      margin-top: 20px;
      padding: 10px;
      border-radius: 8px;
      border: 2px solid #d3e5ff;
      font-family: 'Poppins', sans-serif;
      resize: none;
      outline: none;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      background-color: #3a86ff;
      color: white;
      border: none;
      border-radius: 8px;
      transition: background 0.3s ease;
    }
    button:hover {
      background-color: #265fdc;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Typing Test</h1>
    <p id="timer">Time left: 60s</p>
    <p class="instructions">Start typing the sentence below on your keyboard:</p>
    <div id="quote"></div>
    <textarea id="input" placeholder="Start typing here..." rows="5"></textarea>
    <div id="results"></div>
    <button type="button" onclick="startTest()">Restart</button>
  </div>

  <script>
    // Prevent spacebar from scrolling the page
    document.addEventListener("keydown", function (e) {
      if (e.code === "Space" && e.target.tagName !== "TEXTAREA") {
        e.preventDefault();
      }
    });

    const quotes = [
      "She once refused an employee maternity leave because she thought the baby was ugly and said, "Why would she want to be at home with that thing?"",
      "You owe me 20 bucks. You know who you are.",
      "At a lesbian wedding, does the bride just throw a softball instead of a bouquet?",
      "Me fail English? That's unpossible.",
      "This anonymous clan of slack-jawed troglodytes has cost me the election. And yet, if I were to have them killed, I would be the one to go to jail. That's democracy for you.",
      "Have you ever tried turning off the computer and electrical devices, sitting down with your loving wife and children, and hitting them?"
    ];

    let currentQuote = '';
    let startTime;
    let timerInterval;
    let timeLeft = 60;

function startTest() {
  clearInterval(timerInterval);

  const randomIndex = Math.floor(Math.random() * quotes.length);
  currentQuote = quotes[randomIndex];
  document.getElementById("quote").innerText = currentQuote;

  const input = document.getElementById("input");
  input.value = "";
  input.disabled = false;
  input.focus();

  timeLeft = 60;
  document.getElementById("timer").innerText = `Time left: ${timeLeft}s`;
  startTime = new Date().getTime();

  timerInterval = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").innerText = `Time left: ${timeLeft}s`;

    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      input.disabled = true;
      document.getElementById("results").innerText = "Time's up!";
    }
  }, 1000);
}

    document.getElementById("input").addEventListener("input", function () {
      const inputText = this.value;
      if (inputText === currentQuote) {
        const elapsed = (new Date().getTime() - startTime) / 1000;
        const words = currentQuote.trim().split(/\s+/).length;
        const wpm = Math.round((words / elapsed) * 60);
        document.getElementById("results").innerText = `You typed at ${wpm} WPM!`;
        this.disabled = true;
        clearInterval(timerInterval);
      }
    });

    window.onload = startTest;
  </script>
</body>
</html>
